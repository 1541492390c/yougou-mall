<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Config 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="per.ccm.ygmall.user.mapper.UserMapper">
    <resultMap id="userVOMap" type="per.ccm.ygmall.user.vo.UserVO">
        <id column="user_id" property="userId" jdbcType="BIGINT" />
        <result column="age" property="age" jdbcType="INTEGER" />
        <result column="gender" property="gender" jdbcType="INTEGER" />
        <result column="user_type" property="userType" jdbcType="TINYINT" />
        <result column="state" property="state" jdbcType="TINYINT" />
        <result column="username" property="username" jdbcType="VARCHAR" />
        <result column="avatar" property="avatar" jdbcType="VARCHAR" />
        <result column="birthday" property="birthday" jdbcType="DATE" />
    </resultMap>

    <sql id="user_vo_column">
        `user_id`, `age`, `gender`, `user_type`, `state`, `username`, `avatar`, `birthday`
    </sql>

    <select id="selectUserPages" resultMap="userVOMap">
        SELECT <include refid="user_vo_column" /> FROM user
        <where>
            <if test="userId != null">`user_id` = #{userId}</if>
            <if test="userType != null">`user_type` = #{userType}</if>
        </where>
    </select>
</mapper>